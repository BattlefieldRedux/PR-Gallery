<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/leaflet.css" />
        <link rel="stylesheet" href="css/animations.css">
        <link rel="stylesheet" href="css/main_style.css">
        <link rel="stylesheet" href="css/gallery_style.css">
        <link rel="stylesheet" href="css/map.css" />
        <link rel="stylesheet" href="css/L.SimpleGraticule.css" />

        <script src="js/loadxmldoc.js"></script>
        <script src="js/leaflet-src.js"></script>
        <script src="js/jquery-2.1.0.js"></script>
        <script src="js/common.js"></script>
        <script src="js/gallery.js"></script>
        <script src="js/map_events.js"></script>
        <script src="js/map_loadmap.js"></script>
        <script src="js/L.SimpleGraticule.js"></script>
        <script src="js/L.Control.LayersCSS.js"></script>

        <!--
        Uncomment for production
        <script src="js/leaflet.js"></script>
        <script src="js/jquery-2.1.0.min.js"></script>
        -->

        <title>Project Reality Map Gallery</title>
    </head>

    <body>
        <div id="bwrap">
            <div id="Header">
                <div class="buttons">
                    <div id="Menu-button">
                        <div id="Menu-button-layer-wrapper">
                            <span class="menu-button-layer"></span>
                            <span class="menu-button-layer"></span>
                            <span class="menu-button-layer"></span>
                        </div>
                    </div>
                    <div id="Map-button" class="hide"><img src="js/images/layers.png">
                    </div>
                </div>
                <div id="Title-Wrapper">
                    <div id="Title">
                        Project Reality
                    </div>
                    <div id="SubTitle"></div>
                </div>
                <div id="MiddleHeader" class = "hide">
                    <div class="team1"></div>
                    vs<div class="team2"></div>
                </div>
                <div id="RightMenu">
                    <div id="Assets-button" class="hide"></div>
                    <div id="Search">
                        <img src="img/resources/ic_search.png">
                        <input type="text" placeholder="Search">
                    </div>
                </div>
            </div>

            <div id="Body-Wrapper">
                <div id="Nav">
                    <ul>
                        <a href="http://www.realitymod.com/forum/">
                        <li>
                            Forum
                        </li></a>
                        <a href="http://tournament.realitymod.com/">
                        <li>
                            Tournament
                        </li></a>
                        <a href="http://www.realitymod.com/prspy/">
                        <li>
                            PRSPY
                        </li></a>
                    </ul>
                </div>

                <div id="Container-Wrapper">
                    <div id="map" class="hide"></div>
                    <div id="Container"></div>
                </div>

                <div id="RightPane">
                    <div id="RPane-team-buttons">
                        <div id="RPane-team1-button">
                            Team 1
                        </div>
                        <div id="RPane-team2-button">
                            Team 2
                        </div>
                    </div>
                    <div id="RPane-content"></div>
                </div>
            </div>
        </div>
        <div id='output'></div>

        <script>
			/* Global variables are defined here. They will be capitalized.
			 *
			 */
			var click = document.getElementById('click');
			var mousemove = document.getElementById('output');
			var mapwidth = 4096;
			var mapheight = 4096;
			var GMLIST = [];
			// List of gamemodes of the currently active map. Contains fancy name, codename and link to geojson
			var GMASSETS = [];
			// List of assets of the currently active gamemode.

			var map = L.map('map', {
				crs : L.CRS.Simple
			}).setView([0, 0], 2);
			map.on('baselayerchange', resetRotation);
			var layercontrol = L.control.layersCSS({}, {}, {
				classname : 'Mapstyle-button'
			}).addTo(map);
			// Horrible hack to get layercontrols out of the map div
			var GMcontrol = L.control.layersCSS({}, {}, {
				classname : 'GM-button'
			});
			GMcontrol._map = map;
			var controlDiv = GMcontrol.onAdd(map);
			controlDiv.className += " hide";
			$('#RightMenu').prepend(controlDiv);
			

			var routecontrol = L.control.layersCSS({}, {}, {
				classname : 'routes-button'
			});
			routecontrol._map = map;
			var controlDiv2 = routecontrol.onAdd(map);
			controlDiv2.className += " hide";
            $('#RightMenu').prepend(controlDiv2);

			var mapLayerGroup = new L.LayerGroup().addTo(map);
			var GMLayerGroup = new L.LayerGroup().addTo(map);
			var layer_grid_group = new L.LayerGroup().addTo(map);
			var flag_layer = new L.LayerGroup().addTo(map);
			var routes_layer = new L.LayerGroup().addTo(map);
			var flag_radius_layer = new L.LayerGroup().addTo(map);
			var routes_layer = new L.LayerGroup().addTo(map);
			var routelayers = [];
			var gmlayers = [];
			var gmnames = [];

			//map.on('click', function(e) { alert("Lat, Lon : " + map.project(e.latlng, 7) )});
			//map.on('dblclick', addMarker);

			var ArmaIcon = L.divIcon({
				iconSize : new L.Point(16, 16),
				className : 'icon-heli',
				html : '<div id="icon-heli" style="color:red; font-size:16px"><img src="icons/vehicles_map/mini_harrier.png"/></div>'
			});
        </script>
    </body>
</html>